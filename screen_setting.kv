#:kivy 2.1.0

<ScreenSetting>:
    BoxLayout:
        orientation: "vertical"
		# header layout
        BoxLayout:
            id: header_layout
            orientation: "horizontal"
            padding: 20
			size_hint_y: 0.1

			MDFillRoundFlatIconButton:
				id: bt_shutdown
				icon: "power"
				text: " "
				font_size: 22
				size_hint_x: 0.15
				on_press: root.exec_shutdown()

            BoxLayout:
                orientation: "vertical"
                padding: 0, 15

                Label:
                    id: subtitle            
                    text: "Automatic Multichannel Resistivity MG-AT"
                    bold: True
                    font_size: 30
                    color: 0, 0, 0
                    
            Image:
                id: logo
                source:'asset/logo_labtek.png'
                size_hint_x: 0.25
                allow_stretch: True                   
		
		# setting layout
		BoxLayout:
			id: layout_setting
			orientation: "vertical"
			size_hint_y: 0.5
			padding:10
			spacing:10

			Label:
				text: "SETTING SCREEN"
				bold: True
				font_size: 32
				color: 0, 0, 0
				size_hint_y: 0.1
				
			BoxLayout:
				orientation: "horizontal"
				size_hint_y: 0.6
				spacing: 10

				BoxLayout:
					orientation: "vertical"
					size_hint_x: 1
					canvas.before:
						Color:
							rgba: 0.5, 0, 0, 1
						Line:
							width: 2
							rectangle: self.x, self.y, self.width, self.height

					Label:
						text: "MEASUREMENT MODE"
						bold: True
						font_size: 16
						color: 0, 0, 0
						size_hint_y: 0.25

					Label:
						text: ""
						size_hint_y: 0.1

					GridLayout:
						cols:2
						row_force_default: True
						row_default_height: 25

						MDCheckbox:
							group: "mode"
							id: mode_ves
							size_hint_x: None
							width: 60
							on_active: root.checkbox_mode_click(self, self.active, "(VES) VERTICAL ELECTRICAL SOUNDING")
							
						Label:
							text: "(VES) VERTICAL ELECTRICAL SOUNDING"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0


						MDCheckbox:
							group: "mode"
							id: mode_sp
							size_hint_x: None
							width: 60
							on_active: root.checkbox_mode_click(self, self.active, "(SP) SELF POTENTIAL")

						Label:
							text: "(SP) SELF POTENTIAL"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

						MDCheckbox:
							group: "mode"
							id: mode_r
							size_hint_x: None
							width: 60
							on_active: root.checkbox_mode_click(self, self.active, "(R) RESISTIVITY")		

						Label:
							text: "(R) RESISTIVITY"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

						MDCheckbox:
							group: "mode"
							id: mode_rip
							size_hint_x: None
							width: 60
							on_active: root.checkbox_mode_click(self, self.active, "(R+IP) INDUCED POLARIZATION")		

						Label:
							text: "(R+IP) INDUCED POLARIZATION"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

					Label:
						id: output_mode_label
						text: ""
						bold: True
						font_size:12
						color: 0, 0, 0
						size_hint_y: 0.7

				BoxLayout:
					orientation: "vertical"
					size_hint_x: 0.8
					canvas.before:
						Color:
							rgba: 0, 0.5, 0, 1
						Line:
							width: 2
							rectangle: self.x, self.y, self.width, self.height

					Label:
						text: "MEASUREMENT CONFIGURATION"
						bold: True
						font_size: 16
						color: 0, 0, 0
						size_hint_y: 0.25

					Label:
						text: ""
						size_hint_y: 0.1

					GridLayout:
						cols:2
						row_force_default: True
						row_default_height: 25

						MDCheckbox:
							group: "config"
							size_hint_x: None
							width: 60
							on_active: root.checkbox_config_click(self, self.active, "WENNER (ALPHA)")

						Label:
							text: "WENNER (ALPHA)"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

						MDCheckbox:
							group: "config"
							size_hint_x: None
							width: 60
							on_active: root.checkbox_config_click(self, self.active, "WENNER (BETA)")

						Label:
							text: "WENNER (BETA)"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

						MDCheckbox:
							group: "config"
							size_hint_x: None
							width: 60
							on_active: root.checkbox_config_click(self, self.active, "WENNER (GAMMA)")

						Label:
							text: "WENNER (GAMMA)"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

						MDCheckbox:
							group: "config"
							size_hint_x: None
							width: 60
							on_active: root.checkbox_config_click(self, self.active, "SCHLUMBERGER")
							
						Label:
							text: "SCHLUMBERGER"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

						MDCheckbox:
							group: "config"
							size_hint_x: None
							width: 60
							on_active: root.checkbox_config_click(self, self.active, "DIPOLE-DIPOLE")		

						Label:
							text: "DIPOLE-DIPOLE"
							text_size: self.size
							halign: "left"
							valign: "middle"
							font_size:12
							color: 0, 0, 0

					Label:
						id: output_config_label
						text: ""
						bold: True
						font_size:12
						color: 0, 0, 0
						size_hint_y: 0.7

				BoxLayout:
					orientation: "vertical"
					canvas.before:
						Color:
							rgba: 0, 0, 0.5, 1
						Line:
							width: 2
							rectangle: self.x, self.y, self.width, self.height
					
					Label:
						text: "MEASUREMENT PARAMETER"
						bold: True
						font_size: 16
						color: 0, 0, 0
						size_hint_y: 0.1

					# GridLayout:
					# 	cols:4
					BoxLayout:
						orientation: "vertical"

						BoxLayout:
							orientation: "horizontal"
							size_hint_y: 0.1
							Label:
								text: "(a) distance"
								font_size:12
								color: 0, 0, 0

							Label:
								text: "(n) constant"
								font_size:12
								color: 0, 0, 0

							Label:
								text: "(t) time"
								font_size:12
								color: 0, 0, 0

							Label:
								text: "(#) cycle"
								font_size:12
								color: 0, 0, 0

							Label:
								text: "volt threshold [mV]"
								font_size:12
								color: 0, 0, 0

						BoxLayout:
							orientation: "horizontal"
							size_hint_y: 0.7

							MDSlider:
								id: slider_distance
								min: 1.0
								max: 10.0
								step: 0.1
								hint: True
								hint_bg_color: "white"
								orientation: 'vertical'

							MDSlider:
								id: slider_constant
								min: 1
								max: 16
								step: 1
								hint: True
								hint_bg_color: "white"
								orientation: 'vertical'

							MDSlider:
								id: slider_time
								min: 100
								max: 2000
								step: 100
								value: 1000
								hint: True
								hint_bg_color: "white"
								orientation: 'vertical'

							MDSlider:
								id: slider_cycle
								min: 1
								max: 10
								step: 1
								value: 1
								hint: True
								hint_bg_color: "white"
								orientation: 'vertical'

							BoxLayout:
								orientation: "vertical"

								MDFillRoundFlatIconButton:
									id: bt_threshold_up
									icon: "arrow-up"
									text: " "
									font_size: 16
									on_press: root.threshold_up()

								MDFillRoundFlatIconButton:
									id: bt_threshold_down
									icon: "arrow-down"
									text: " "
									font_size: 16
									on_press: root.threshold_down()

						BoxLayout:
							orientation: "horizontal"
							size_hint_y: 0.2

							Label:
								text: '%2.1f' %slider_distance.value + " m" 
								font_size:16
								color: 0, 0, 0
								bold: True

							Label:
								text: str(int(slider_constant.value)) 
								font_size:16
								color: 0, 0, 0
								bold: True					
							
							Label:
								text: str(slider_time.value) + " ms"
								font_size:16
								color: 0, 0, 0
								bold: True
							
							Label:
								text: str(int(slider_cycle.value)) + " cycles"
								font_size:16
								color: 0, 0, 0
								bold: True

							Label:
								id: lb_volt_threshold
								text: "20.0 mV"
								font_size:16
								color: 0, 0, 0
								bold: True
			# illustration graph layout
			BoxLayout:
				id: layout_illustration
				# padding:10
				spacing:20
				size_hint_y: 0.3

		# MDFillRoundFlatIconButton: interfacing layout
		BoxLayout:
			orientation: "horizontal"
			size_hint_y: 0.06
			padding:10	
			spacing:20			
			MDFillRoundFlatIconButton:
				id: bt_illustrate
				icon: "eye"
				text: "SHOW ILLUSTRATION"
				font_size: 22
				size_hint_x: 0.5
				on_press: root.illustrate()

			MDFillRoundFlatIconButton:
				id: bt_measure
				icon: "gauge"
				text: "RUN MEASUREMENT"
				font_size: 22
				size_hint_x: 0.5
				on_press: root.measure()

		# MDRectangleFlatIconButton: navigation layout
		BoxLayout:
			orientation: "horizontal"
			size_hint_y: 0.06
			padding:10
			spacing:10

			MDFillRoundFlatIconButton:
				id: bt_screen_setting
				icon: "cogs"
				text: "SETTING"
				font_size: 22
				size_hint_x: 0.25
				on_press: root.screen_setting()

			MDFillRoundFlatIconButton:
				id: bt_screen_data
				icon: "pencil"
				text: "DATA"
				font_size: 22
				size_hint_x: 0.25
				on_press: root.screen_data()

			MDFillRoundFlatIconButton:
				id: bt_screen_graph
				icon: "chart-line"
				text: "GRAPH"
				font_size: 22
				size_hint_x: 0.25
				on_press: root.screen_graph()




